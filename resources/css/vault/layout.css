/* ======================================================
   Grade VAULT â€¢ CORE LAYOUT SYSTEM
   Arquitetura:
   - Sidebar fixa desktop
   - Drawer mobile
   - Topbar sticky
   - Workspace fluido
====================================================== */


/* ======================================================
   TOKENS
====================================================== */

:root {
    --sidebar-w: 240px;
    --topbar-h: 58px;

    --bg: #f8f3ea;
    --surface: #fffdf9;
    --surface-2: #fffbf5;

    --border: #e9e1d4;
    --muted: #6f6456;
    --text: #2b2116;

    --primary: #6366f1;
    --primary-hover: #5558ee;

    --radius: 14px;

    --shadow-sm: 0 1px 2px rgba(0,0,0,.05);
    --shadow-md: 0 6px 18px rgba(0,0,0,.08);
    --shadow-lg: 0 14px 40px rgba(0,0,0,.12);
}

[data-theme="dark"] {
    --bg: #0a0f1f;
    --surface: #0f172a;
    --surface-2: #0b1324;
    --border: #1e293b;
    --muted: #94a3b8;
    --text: #e5e7eb;
    --primary: #60a5fa;
    --primary-hover: #3b82f6;
}


/* ======================================================
   BODY BASE
====================================================== */

.grade-body {
    background: var(--bg);
    overflow: hidden;
    height: 100vh;
    color: var(--text);
}

body:not([data-theme="dark"]) .modal-content{
    background: var(--surface);
    color: var(--text);
    border: 1px solid var(--border);
    box-shadow: 0 16px 34px rgba(60,42,16,.08);
}

body:not([data-theme="dark"]) .modal-header,
body:not([data-theme="dark"]) .modal-footer{
    background: var(--surface);
    border-color: #ece2d5;
}

body:not([data-theme="dark"]) .card{
    background: var(--surface);
    border-color: var(--border);
    color: var(--text);
}

body:not([data-theme="dark"]) .card-header,
body:not([data-theme="dark"]) .card-footer{
    background: var(--surface-2);
    border-color: #ece2d5;
}

body:not([data-theme="dark"]) .form-control,
body:not([data-theme="dark"]) .form-select,
body:not([data-theme="dark"]) .form-check-input{
    background: #fffdfa;
    border-color: #e7ddcf;
    color: var(--text);
}

body:not([data-theme="dark"]) .form-control::placeholder{
    color: #9b8f80;
}

body:not([data-theme="dark"]) .form-control:focus,
body:not([data-theme="dark"]) .form-select:focus{
    border-color: #dccbb2;
    box-shadow: 0 0 0 3px rgba(220,203,178,.28);
}

body:not([data-theme="dark"]) .table-light{
    --bs-table-bg: #fffaf3;
    --bs-table-striped-bg: #fff7ee;
    color: #6f6456;
}

body:not([data-theme="dark"]) .text-muted{
    color: #6f6456 !important;
}

body:not([data-theme="dark"]) .table{
    color: #2b2116;
}

body:not([data-theme="dark"]) .table > :not(caption) > * > *{
    border-bottom-color: #ece2d5;
}

body:not([data-theme="dark"]) .table thead th{
    color: #5f4d37;
}



/* ======================================================
   MAIN WRAPPER
====================================================== */

.grade-layout {
    display: flex;
    height: 100vh;
    min-height: 100vh;
    overflow: hidden;
}

[data-theme="dark"] .grade-body{
    background:
        radial-gradient(circle at 10% 0%, rgba(59,130,246,.12), transparent 45%),
        radial-gradient(circle at 90% 0%, rgba(99,102,241,.12), transparent 40%),
        var(--bg);
}

[data-theme="dark"] .modal-content{
    background: rgba(15,23,42,.98);
    color: var(--text);
    border: 1px solid rgba(148,163,184,.2);
    box-shadow: 0 24px 48px rgba(0,0,0,.55);
}

[data-theme="dark"] .modal-header,
[data-theme="dark"] .modal-footer{
    border-color: rgba(148,163,184,.18);
}

[data-theme="dark"] .card{
    background: rgba(15,23,42,.98);
    border-color: rgba(148,163,184,.2);
    color: var(--text);
    box-shadow: 0 18px 36px rgba(0,0,0,.45);
}

[data-theme="dark"] .card-header,
[data-theme="dark"] .card-footer{
    background: transparent;
    border-color: rgba(148,163,184,.18);
}

[data-theme="dark"] .table{
    color: var(--text);
}

[data-theme="dark"] .table-light{
    --bs-table-bg: rgba(15,23,42,.9);
    --bs-table-striped-bg: rgba(15,23,42,.9);
    color: #94a3b8;
}

[data-theme="dark"] .table > :not(caption) > * > *{
    background-color: transparent;
    border-bottom-color: rgba(148,163,184,.15);
}

[data-theme="dark"] .table-hover > tbody > tr:hover > *{
    background-color: rgba(148,163,184,.08);
}

[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select,
[data-theme="dark"] .form-check-input{
    background: rgba(2,6,23,.65);
    border-color: rgba(148,163,184,.25);
    color: var(--text);
}

[data-theme="dark"] .form-control::placeholder{
    color: #94a3b8;
}

[data-theme="dark"] .form-select{
    color: #e5e7eb;
}

[data-theme="dark"] .text-muted{
    color: #94a3b8 !important;
}

[data-theme="dark"] .badge{
    background: rgba(59,130,246,.18);
    color: #93c5fd;
    border: 1px solid rgba(59,130,246,.25);
}

[data-theme="dark"] .btn-close{
    filter: invert(1) opacity(.7);
}

[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus{
    border-color: #60a5fa;
    box-shadow: 0 0 0 3px rgba(59,130,246,.2);
}

[data-theme="dark"] .dropdown-menu{
    background: rgba(15,23,42,.98);
    border-color: rgba(148,163,184,.2);
    box-shadow: 0 18px 36px rgba(0,0,0,.5);
}

[data-theme="dark"] .dropdown-item{
    color: var(--text);
}

[data-theme="dark"] .dropdown-item:hover,
[data-theme="dark"] .dropdown-item:focus{
    background: rgba(148,163,184,.08);
}

[data-theme="dark"] .btn-outline-secondary,
[data-theme="dark"] .btn-outline-primary,
[data-theme="dark"] .btn-outline-success,
[data-theme="dark"] .btn-outline-danger{
    border-color: rgba(148,163,184,.35);
    color: var(--text);
}

[data-theme="dark"] .btn-outline-secondary:hover,
[data-theme="dark"] .btn-outline-primary:hover,
[data-theme="dark"] .btn-outline-success:hover,
[data-theme="dark"] .btn-outline-danger:hover{
    background: rgba(148,163,184,.12);
}



/* ======================================================
   SIDEBAR
====================================================== */

.grade-sidebar {
    width: var(--sidebar-w);
    background: #111827;
    color: #fff;

    display: flex;
    flex-direction: column;

    position: fixed;
    inset: 0 auto 0 0;

    z-index: 50;

    transition: transform .25s ease;
}



/* ---------- brand ---------- */

.grade-sidebar-brand {
    height: var(--topbar-h);
    display: flex;
    align-items: center;
    justify-content: center;

    font-weight: 700;
    font-size: 18px;

    border-bottom: 1px solid rgba(255,255,255,.06);
}



/* ======================================================
   NAV
====================================================== */

.grade-nav {
    display: flex;
    flex-direction: column;
    padding: 10px;
    gap: 6px;
}



.grade-link {
    display: flex;
    align-items: center;
    gap: 12px;

    padding: 10px 12px;

    color: #cbd5e1;
    text-decoration: none;

    border-radius: 10px;

    transition: all .18s ease;
    font-size: 14px;
    background: transparent;
    border: 0;
    width: 100%;
    text-align: left;
    cursor: pointer;
}



/* hover */

.grade-link:hover {
    background: rgba(255,255,255,.06);
    color: #fff;
}



/* active */

.grade-link.is-active {
    background: var(--primary);
    color: white;
    box-shadow: var(--shadow-sm);
}



/* icons */

.grade-link i {
    font-size: 16px;
    width: 18px;
    text-align: center;
}

[data-theme="dark"] .grade-link i,
[data-theme="dark"] .grade-user-item i,
[data-theme="dark"] .grade-toplink i{
    color: #94a3b8;
}

[data-theme="dark"] .grade-user-item:hover i,
[data-theme="dark"] .grade-toplink:hover i{
    color: #e2e8f0;
}

[data-theme="dark"] .grade-link.is-active i,
[data-theme="dark"] .grade-toplink.is-active i,
[data-theme="dark"] .grade-user-item.is-active i{
    color: #93c5fd;
}



/* ======================================================
   OVERLAY (mobile)
====================================================== */

.grade-overlay {
    position: fixed;
    inset: 0;

    background: rgba(0,0,0,.45);
    backdrop-filter: blur(2px);

    opacity: 0;
    pointer-events: none;

    transition: .2s;

    z-index: 40;
}

.grade-overlay.is-open {
    opacity: 1;
    pointer-events: auto;
}



/* ======================================================
   MAIN
====================================================== */

.grade-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    height: 100vh;
    min-height: 0;
    overflow: hidden;
}



/* ======================================================
   TOPBAR
====================================================== */

.grade-topbar {
    height: var(--topbar-h);

    background: var(--surface);
    border-bottom: 1px solid var(--border);

    display: flex;
    align-items: center;
    justify-content: flex-start;

    padding: 0 18px;

    position: sticky;
    top: 0;

    z-index: 60;
    transition: box-shadow .2s ease, border-color .2s ease;
    backdrop-filter: blur(8px);
    position: relative;
}

.grade-topbar.has-tools{
    height:auto;
    min-height:var(--topbar-h);
    padding:8px 12px;
    gap:10px;
    align-items:center;
}

.grade-topbar-tools{
    flex:1 1 auto;
    min-width:0;
    margin-left:8px;
    margin-right:6px;
}

@media (max-width: 1280px){
    .grade-topbar.has-tools{
        padding:8px 10px;
    }
    .grade-topbar-tools{
        margin-left:6px;
        margin-right:0;
    }
}

[data-theme="dark"] .grade-topbar{
    box-shadow: 0 14px 30px rgba(0,0,0,.45);
    border-bottom-color: rgba(148,163,184,.15);
    background: linear-gradient(180deg, rgba(15,23,42,.96), rgba(10,15,31,.98));
}

.grade-topbar.is-scrolled{
    border-color: transparent;
    box-shadow: 0 8px 20px rgba(15,23,42,.08);
}

.grade-topbar-left{
    display:flex;
    align-items:center;
    gap:12px;
}

.grade-topbar-prompt-disabled{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%, -50%);
    pointer-events:none;
    z-index:1;
}

.grade-topbar-prompt-shell{
    width:min(520px, 56vw);
    height:38px;
    border:1px solid #dccab1;
    border-radius:999px;
    background:#f8f1e6;
    box-shadow:0 6px 14px rgba(60,42,16,.08);
    display:flex;
    align-items:center;
    gap:8px;
    padding:0 8px 0 10px;
    opacity:.72;
}

.grade-topbar-prompt-input{
    flex:1 1 auto;
    min-width:0;
    border:0;
    outline:0;
    background:transparent;
    color:#5f4f3f;
    font-size:13px;
    line-height:1.2;
    font-weight:400;
    pointer-events:none;
}

.grade-topbar-prompt-input::placeholder{
    color:#9b846a;
}

.grade-topbar-prompt-icon{
    width:16px;
    height:16px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    color:#8a735a;
    font-size:12px;
    flex:0 0 auto;
}

.grade-topbar-prompt-icon--muted{
    color:#b39b80;
}

.grade-topbar-prompt-send{
    width:24px;
    height:24px;
    border-radius:999px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    background:#22c55e;
    color:#fff;
    font-size:11px;
    flex:0 0 auto;
}

[data-theme="dark"] .grade-topbar-prompt-shell{
    background:rgba(15,23,42,.82);
    border-color:rgba(148,163,184,.28);
    box-shadow:0 8px 20px rgba(0,0,0,.35);
}

[data-theme="dark"] .grade-topbar-prompt-input{
    color:#cbd5e1;
}

[data-theme="dark"] .grade-topbar-prompt-input::placeholder{
    color:#94a3b8;
}

[data-theme="dark"] .grade-topbar-prompt-icon{
    color:#94a3b8;
}

@media (max-width: 1280px){
    .grade-topbar-prompt-shell{
        width:min(420px, 50vw);
    }
}

@media (max-width: 980px){
    .grade-topbar-prompt-disabled{
        display:none;
    }
}

.grade-tenant-target-badge{
    display:inline-flex;
    align-items:center;
    max-width:420px;
    padding:6px 10px;
    border-radius:999px;
    border:1px solid #fde68a;
    background:#fef3c7;
    color:#92400e;
    font-size:12px;
    font-weight:700;
    letter-spacing:.1px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

[data-theme="dark"] .grade-tenant-target-badge{
    border-color:rgba(250,204,21,.32);
    background:rgba(113,63,18,.45);
    color:#fcd34d;
}

.grade-brand{
    font-weight:800;
    font-size:16px;
    color:var(--text);
    letter-spacing:.3px;
}

.grade-topnav{
    display:flex;
    align-items:center;
    gap:10px;
}

.grade-topnav-center{
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

.grade-impersonation-badge{
    margin-left: auto;
    margin-right: 12px;
    background: #fee2e2;
    color: #b91c1c;
    border: 1px solid #fecaca;
    padding: 6px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: .2px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
}

.grade-impersonation-badge form{
    margin: 0;
}

.grade-impersonation-stop{
    border: 1px solid #fecaca;
    background: #fff;
    color: #b91c1c;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
}

.grade-impersonation-stop:hover{
    background: #fee2e2;
}


.grade-toplink{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 12px;
    border-radius:10px;
    color:#6f6456;
    text-decoration:none;
    font-weight:600;
    font-size:14px;
    border:1px solid transparent;
    background:transparent;
}

.grade-toplink-icon{
    width:36px;
    height:36px;
    padding:0;
    justify-content:center;
}

.grade-toplink:hover{
    background:#f9f2e8;
    border-color:#e5d8c5;
    color:#4f3d29;
}

[data-theme="dark"] .grade-toplink:hover{
    background: rgba(148,163,184,.08);
    border-color: rgba(148,163,184,.25);
}

.grade-toplink.is-active{
    background:#f3e8d7;
    color:#5b452d;
    border-color:#decdb6;
}

.grade-toplink-form{
    margin:0;
}

.grade-topnav-dropdown{
    position: relative;
    display: inline-flex;
    align-items: center;
}

.grade-topnav-menu{
    position: absolute;
    top: calc(100% + 6px);
    left: 50%;
    transform: translateX(-50%);
    min-width: 240px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 12px 28px rgba(60,42,16,.12);
    padding: 8px;
    display: none;
    z-index: 70;
}

.grade-topnav-menu::before{
    content:'';
    position:absolute;
    top:-6px;
    left:50%;
    width:12px;
    height:12px;
    background:var(--surface);
    border-left:1px solid var(--border);
    border-top:1px solid var(--border);
    transform:translateX(-50%) rotate(45deg);
}

.grade-topnav-dropdown:hover .grade-topnav-menu,
.grade-topnav-dropdown:focus-within .grade-topnav-menu{
    display: block;
}

.grade-topnav-item{
    width: 100%;
    text-align: left;
    border: 0;
    background: transparent;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 9px 10px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text);
    text-decoration: none;
    white-space: nowrap;
}

.grade-topnav-item:hover{
    background: var(--surface-2);
}

.grade-topnav-divider{
    height: 1px;
    background: var(--border);
    margin: 6px 2px;
}

.grade-user-menu{
    position: relative;
    display:flex;
    align-items:center;
    gap:10px;
    margin-right: 10px;
    flex: 0 0 auto;
}

.grade-user-btn{
    border:1px solid var(--border);
    background:#fffdf9;
    color:#5f4d37;
    width:40px;
    height:40px;
    padding:0;
    border-radius:999px;
    transition:.2s;
    display:inline-flex;
    align-items:center;
    justify-content:center;
}

.grade-user-btn:hover{
    background:#f9f2e8;
}

.grade-user-avatar{
    width:30px;
    height:30px;
    border-radius:999px;
    --avatar-ring-color: rgba(245, 158, 11, .65);
    --avatar-border-size: 1.5px;
    --avatar-gap-size: 1.5px;
    border:var(--avatar-border-size) solid transparent;
    box-sizing:border-box;
    padding:0;
    background:linear-gradient(135deg,#0ea5e9,#2563eb);
    color:#fff;
    font-size:12px;
    font-weight:800;
    letter-spacing:.04em;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    line-height:1;
}

.grade-user-avatar img,
.grade-user-profile-avatar img,
.grade-edit-profile-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:999px;
    display:block;
}

.grade-edit-profile-modal{
    border:1px solid #e8dcc9 !important;
    border-radius:14px !important;
    background:#fffdf9;
    box-shadow:0 18px 46px rgba(58,40,18,.18);
    font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

#editProfileModal .modal-dialog{
    max-width: 370px;
}

.grade-edit-profile-modal .modal-header{
    padding:14px 14px 4px;
}

.grade-edit-profile-modal .modal-title{
    font-size:16px;
    line-height:1.25;
    font-weight:400 !important;
    letter-spacing:0;
    color:#2f2418;
}

.grade-edit-profile-modal .btn-close{
    width:28px;
    height:28px;
    border-radius:8px;
    opacity:.65;
}

.grade-edit-profile-modal .btn-close:hover{
    opacity:.95;
    background:#f7efe2;
}

.grade-edit-profile-modal .modal-body{
    padding:10px 14px 8px;
}

.grade-edit-profile-avatar-wrap{
    position:relative;
    display:grid;
    place-items:center;
    padding:4px 0 8px;
}
.grade-edit-profile-avatar{
    width:108px;
    height:108px;
    border-radius:999px;
    --avatar-ring-color: rgba(245, 158, 11, .85);
    --avatar-border-size: 2.5px;
    --avatar-gap-size: 3px;
    border:var(--avatar-border-size) solid transparent;
    box-sizing:border-box;
    padding:0;
    display:grid;
    place-items:center;
    font-weight:800;
    font-size:36px;
    color:#fff;
    background:#16a34a;
    overflow:hidden;
}
.grade-edit-profile-avatar-btn{
    position:absolute;
    right:calc(50% - 54px);
    bottom:10px;
    width:32px;
    height:32px;
    border-radius:999px;
    border:1px solid rgba(0,0,0,.08);
    background:#fff;
    display:grid;
    place-items:center;
    box-shadow:0 8px 20px rgba(0,0,0,.08);
}
.grade-edit-profile-avatar-btn:hover{ background:#f8f9fa; }

.grade-edit-profile-modal .grade-profile-field-box{
    display:block;
    margin:0;
    border:1px solid #e4d8c6;
    border-radius:10px;
    background:#fffdfa;
    padding:7px 10px 8px;
    transition:border-color .15s ease, box-shadow .15s ease;
}

.grade-edit-profile-modal .grade-profile-field-kicker{
    display:block;
    font-size:12px;
    line-height:1.15;
    font-weight:400;
    color:#6f6254;
    margin-bottom:3px;
}

.grade-edit-profile-modal .grade-profile-field-input{
    width:100%;
    border:0;
    outline:0;
    padding:0;
    margin:0;
    background:transparent;
    color:#2f2418;
    font-size:15px;
    line-height:1.25;
    font-weight:400;
}

.grade-edit-profile-modal .grade-profile-field-box:focus-within{
    border-color:#c9ab84;
    box-shadow:0 0 0 3px rgba(201,171,132,.22);
}

.grade-edit-profile-modal .grade-profile-field .form-text{
    margin-top:8px;
    font-size:12px;
    line-height:1.35;
    color:#726350;
    font-weight:400;
}

.grade-edit-profile-modal .modal-footer{
    padding:10px 14px 14px;
    gap:6px;
}

.grade-edit-profile-modal .modal-footer .btn{
    border-radius:999px;
    font-size:14px;
    font-weight:400;
    line-height:1;
    padding:9px 14px;
}

.grade-edit-profile-modal .modal-footer .btn-outline-secondary{
    border-color:#d8cab7;
    color:#5f4d37;
    background:#fffdfa;
}

.grade-edit-profile-modal .modal-footer .btn-outline-secondary:hover{
    background:#f5ead8;
}

.grade-edit-profile-modal .modal-footer .btn-dark{
    background:#6b4528;
    border-color:#6b4528;
}

.grade-edit-profile-modal #editProfileSubmitBtn.is-submitting{
    opacity:.62;
    transform:translateY(1px) scale(.985);
    filter:saturate(.88);
    box-shadow:none;
}

/* Reusable modal/view pattern (base: Edit Profile) */
.grade-modal-pattern{
    border:1px solid #e8dcc9 !important;
    border-radius:14px !important;
    background:#fffdf9;
    box-shadow:0 18px 46px rgba(58,40,18,.18);
    font-family:ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

.grade-modal-pattern .modal-header{
    padding:14px 14px 4px;
    border-bottom:0;
}

.grade-modal-pattern .modal-title{
    font-size:16px;
    line-height:1.25;
    font-weight:400;
    letter-spacing:0;
    color:#2f2418;
}

.grade-modal-pattern .btn-close{
    width:28px;
    height:28px;
    border-radius:8px;
    opacity:.65;
}

.grade-modal-pattern .btn-close:hover{
    opacity:.95;
    background:#f7efe2;
}

.grade-modal-pattern .modal-body{
    padding:10px 14px 8px;
}

.grade-modal-pattern .modal-footer{
    padding:10px 14px 14px;
    gap:6px;
    border-top:0;
}

.grade-modal-pattern .modal-footer .btn{
    border-radius:999px;
    font-size:14px;
    font-weight:400;
    line-height:1;
    padding:9px 14px;
}

.grade-modal-pattern .btn{
    border-radius:999px;
    font-size:14px;
    font-weight:400;
    line-height:1;
    padding:9px 14px;
}

.grade-modal-pattern .modal-footer .btn-outline-secondary{
    border-color:#d8cab7;
    color:#5f4d37;
    background:#fffdfa;
}

.grade-modal-pattern .modal-footer .btn-outline-secondary:hover{
    background:#f5ead8;
}

.grade-modal-pattern .modal-footer .btn-dark{
    background:#6b4528;
    border-color:#6b4528;
}

.grade-modal-pattern .btn-outline-secondary{
    border-color:#d8cab7;
    color:#5f4d37;
    background:#fffdfa;
}

.grade-modal-pattern .btn-outline-secondary:hover{
    background:#f5ead8;
}

.grade-modal-pattern .btn-primary,
.grade-modal-pattern .btn-dark{
    background:#6b4528;
    border-color:#6b4528;
    color:#fff;
}

.grade-modal-pattern .btn-primary:hover,
.grade-modal-pattern .btn-dark:hover{
    background:#5a3a22;
    border-color:#5a3a22;
    color:#fff;
}

.grade-modal-pattern .btn.is-submitting{
    opacity:.62;
    transform:translateY(1px) scale(.985);
    filter:saturate(.88);
    box-shadow:none;
}

.grade-field-box{
    display:block;
    margin:0;
    border:1px solid #e4d8c6;
    border-radius:10px;
    background:#fffdfa;
    padding:7px 10px 8px;
    transition:border-color .15s ease, box-shadow .15s ease;
}

.grade-field-box--compact{
    padding:6px 9px 7px;
}

.grade-field-kicker{
    display:block;
    font-size:12px;
    line-height:1.15;
    font-weight:400;
    color:#6f6254;
    margin-bottom:3px;
}

.grade-field-input{
    width:100%;
    border:0;
    outline:0;
    padding:0;
    margin:0;
    background:transparent;
    color:#2f2418;
    font-size:15px;
    line-height:1.25;
    font-weight:400;
}

.grade-field-input--select{
    appearance:none;
    -webkit-appearance:none;
    -moz-appearance:none;
    padding-right:18px;
    background-image:
        linear-gradient(45deg, transparent 50%, #6b7280 50%),
        linear-gradient(135deg, #6b7280 50%, transparent 50%);
    background-position:
        calc(100% - 10px) calc(50% + 1px),
        calc(100% - 5px) calc(50% + 1px);
    background-size:5px 5px, 5px 5px;
    background-repeat:no-repeat;
    cursor:pointer;
}

.grade-field-box:focus-within{
    border-color:#c9ab84;
    box-shadow:0 0 0 3px rgba(201,171,132,.22);
}

.grade-modal-hint{
    font-size:12px;
    line-height:1.35;
    font-weight:400;
}

[data-theme="dark"] .grade-modal-pattern{
    background:rgba(15,23,42,.98);
    border-color:rgba(148,163,184,.2) !important;
    box-shadow:0 28px 54px rgba(0,0,0,.55);
}

[data-theme="dark"] .grade-modal-pattern .modal-title{
    color:#f8fafc;
}

[data-theme="dark"] .grade-modal-pattern .btn-close:hover{
    background:rgba(148,163,184,.12);
}

[data-theme="dark"] .grade-field-box{
    background:rgba(2,6,23,.65);
    border-color:rgba(148,163,184,.2);
}

[data-theme="dark"] .grade-field-kicker{
    color:#94a3b8;
}

[data-theme="dark"] .grade-field-input{
    color:#e5e7eb;
}

[data-theme="dark"] .grade-field-input--select{
    background-image:
        linear-gradient(45deg, transparent 50%, #94a3b8 50%),
        linear-gradient(135deg, #94a3b8 50%, transparent 50%);
}

[data-theme="dark"] .grade-field-box:focus-within{
    border-color:#60a5fa;
    box-shadow:0 0 0 3px rgba(59,130,246,.2);
}

.grade-user-avatar--guest{
    background:#0f172a;
    font-size:16px;
    font-weight:600;
    letter-spacing:0;
}

.grade-user-btn--guest{
    border:1px solid #22c55e;
    background:#22c55e;
    color:#f8fbff;
    box-shadow:none;
}

.grade-user-btn--guest:hover{
    background:#16a34a;
    transform:translateY(-1px);
    filter:none;
    box-shadow:none;
}

.grade-user-btn--guest:focus-visible{
    outline:none;
    box-shadow:0 0 0 3px rgba(34,197,94,.22);
}

.grade-user-btn--guest .grade-user-avatar--guest{
    background:transparent;
    color:#f8fbff;
}

[data-theme="dark"] .grade-user-btn--guest{
    border-color:#22c55e;
    background:#22c55e;
    color:#eaf2ff;
    box-shadow:none;
}

[data-theme="dark"] .grade-user-btn--guest:hover{
    background:#16a34a;
    box-shadow:none;
}

[data-theme="dark"] .grade-user-btn--guest:focus-visible{
    box-shadow:0 0 0 3px rgba(34,197,94,.26);
}

.grade-tenant-chip{
    display:inline-flex;
    align-items:center;
    padding:4px 8px;
    border:1px dashed var(--border);
    border-radius:999px;
    font-size:11px;
    color:var(--muted);
    background:var(--surface-2);
    line-height:1;
}

.grade-user-dropdown{
    position:absolute;
    left:0;
    top: calc(100% + 8px);
    width:320px;
    max-width: calc(100vw - 24px);
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:0 12px 28px rgba(60,42,16,.12);
    padding:8px;
    display:none;
    z-index:40;
}

[data-theme="dark"] .grade-user-dropdown{
    background: rgba(15,23,42,.98);
    border-color: rgba(148,163,184,.18);
    box-shadow: 0 18px 36px rgba(0,0,0,.5);
}

.grade-user-dropdown::before{
    content:'';
    position:absolute;
    top:-6px;
    left:18px;
    width:12px;
    height:12px;
    background:var(--surface);
    border-left:1px solid var(--border);
    border-top:1px solid var(--border);
    transform:rotate(45deg);
}

[data-theme="dark"] .grade-user-dropdown::before{
    border-left-color: rgba(148,163,184,.18);
    border-top-color: rgba(148,163,184,.18);
}

.grade-user-dropdown.is-open{
    display:block;
}

.grade-user-flyout-wrap{
    position:relative;
    margin:2px 0;
}

.grade-user-item-summary::after{
    content:'';
}

.grade-user-flyout{
    position:absolute;
    left:calc(100% + 4px);
    top:0;
    width:300px;
    max-width:calc(100vw - 24px);
    background:var(--surface);
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:0 12px 28px rgba(60,42,16,.12);
    padding:8px;
    display:none;
    z-index:50;
}

.grade-user-flyout-wrap:hover .grade-user-flyout,
.grade-user-flyout-wrap:focus-within .grade-user-flyout{
    display:block;
}

.grade-user-item-arrow{
    margin-left:auto;
    color:var(--muted);
    font-size:12px;
}

.grade-admin-topnav .grade-topnav-menu .grade-user-flyout-wrap{
    margin:0;
}

.grade-admin-topnav .grade-topnav-menu .grade-user-item-summary{
    appearance:none;
    -webkit-appearance:none;
    border:0;
    background:transparent;
    box-shadow:none;
}

.grade-admin-topnav .grade-topnav-menu .grade-user-item-summary:focus,
.grade-admin-topnav .grade-topnav-menu .grade-user-item-summary:focus-visible{
    outline:none;
    box-shadow:0 0 0 2px rgba(130,95,56,.2);
}

.grade-admin-topnav .grade-user-flyout .grade-user-item.is-active{
    background:var(--surface-2);
    font-weight:700;
    color:var(--text);
}

[data-theme="dark"] .grade-admin-topnav .grade-user-flyout .grade-user-item.is-active{
    background:rgba(148,163,184,.12);
}

.grade-user-brand{
    padding:10px;
    font-size:14px;
    font-weight:800;
    letter-spacing:.08em;
}

.grade-user-brand--logo{
    min-height:36px;
    width:100%;
    padding:8px 10px;
    border:1px solid transparent;
    border-radius:10px;
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    justify-content:flex-start;
    gap:2px;
    color:var(--muted);
    text-decoration:none;
    font-size:13px;
    font-weight:800;
    letter-spacing:.04em;
    transition:all .18s ease;
}

.grade-user-brand-stack{
    display:inline-flex;
    flex-direction:row;
    align-items:center;
    justify-content:center;
    gap:6px;
}

.grade-user-brand--logo:hover{
    background:var(--surface-2);
    border-color:var(--border);
    color:var(--text);
    text-decoration:none;
}

.grade-user-brand--logo:focus,
.grade-user-brand--logo:active,
.grade-user-brand--logo:visited{
    text-decoration:none;
}

.grade-user-brand--logo i{
    font-size:20px;
    line-height:1;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    color:#8a5b2d;
}

.grade-user-brand-stack > span{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    line-height:1;
    font-size:21px;
    color:#6a4d2c;
    font-weight:700;
}

[data-theme="dark"] .grade-user-brand-stack > span{
    color:#cbd5e1;
}

.grade-user-profile{
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px;
    width:100%;
    border:0;
    background:transparent;
    text-align:left;
    border-radius:10px;
    cursor:pointer;
}

.grade-user-profile:hover{
    background:var(--surface-2);
}

.grade-user-profile-avatar{
    width:34px;
    height:34px;
    border-radius:999px;
    --avatar-ring-color: rgba(245, 158, 11, .75);
    --avatar-border-size: 2px;
    --avatar-gap-size: 2px;
    border:var(--avatar-border-size) solid transparent;
    box-sizing:border-box;
    padding:0;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
    font-size:12px;
    letter-spacing:.08em;
    color:#f8fbff;
    background:linear-gradient(135deg,#1d4ed8 0%, #3730a3 55%, #6d28d9 100%);
    box-shadow:0 10px 22px rgba(15,23,42,.18);
    flex:0 0 auto;
}

.grade-user-avatar.avatar-has-image,
.grade-user-profile-avatar.avatar-has-image,
.grade-edit-profile-avatar.avatar-has-image{
    border-color: var(--avatar-ring-color);
    padding: var(--avatar-gap-size);
    background: #fff;
}

.grade-user-profile-avatar.avatar-has-image{
    box-shadow: none;
}

[data-theme="dark"] .grade-user-profile-avatar{
    box-shadow:0 18px 30px rgba(0,0,0,.5);
}

.grade-user-profile-meta{
    min-width:0;
    display:flex;
    flex-direction:column;
    line-height:1.15;
}

.grade-user-profile-name{
    font-size:13px;
    font-weight:900;
    color:var(--text);
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.grade-user-profile-handle{
    font-size:12px;
    font-weight:700;
    color:var(--muted);
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
}

.grade-user-item{
    width:100%;
    text-align:left;
    border:0;
    background:transparent;
    padding:9px 10px;
    border-radius:10px;
    font-size:13px;
    font-weight:600;
    color:var(--text);
    text-decoration:none;
    display:flex;
    align-items:center;
    gap:8px;
}

.grade-user-item:hover{
    background:var(--surface-2);
}

[data-theme="dark"] .grade-user-item:hover{
    background: rgba(148,163,184,.08);
}

.grade-user-divider{
    height:1px;
    background:var(--border);
    margin:6px 2px;
}

.grade-user-admin-list{
    padding:4px 0 4px;
    margin-top:4px;
    border-top:1px solid var(--border);
}

.grade-user-submenu{
    margin-top:4px;
}

.grade-user-subtitle{
    padding:6px 10px 4px;
    font-size:11px;
    font-weight:700;
    letter-spacing:.04em;
    text-transform:uppercase;
    color:var(--muted);
}

.grade-user-item-sub{
    padding-left:20px;
}

.grade-user-item.text-danger{
    color:#ef4444;
}

.grade-user-item.text-danger:hover{
    background:#fef2f2;
}

.grade-user-row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:8px 10px;
}

/* =========================================================
   Settings Modal (ChatGPT-like)
========================================================= */

#gradeSettingsModal .modal-dialog{
    max-width: 920px;
}

.grade-settings-modal{
    border:1px solid rgba(15,23,42,.08) !important;
    border-radius:14px !important;
    background:#fff;
    box-shadow:0 18px 46px rgba(15,23,42,.18);
    font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

#gradeSettingsModal .modal-header{
    padding:14px 14px 6px;
}

#gradeSettingsModal .modal-title{
    font-size:16px;
    line-height:1.25;
    font-weight:400;
    letter-spacing:0;
    color:#1f2937;
}

#gradeSettingsModal .modal-header .text-muted{
    font-weight:400;
}

#gradeSettingsModal .modal-body{
    padding:10px 14px 14px;
}

.grade-settings-shell{
    display:grid;
    grid-template-columns: 220px 1fr;
    gap:12px;
    min-height: 520px;
}

@media (max-width: 991px){
    .grade-settings-shell{
        grid-template-columns: 1fr;
        min-height: auto;
    }
}

.grade-settings-nav{
    border-right:1px solid var(--border);
    padding-right:10px;
}

@media (max-width: 991px){
    .grade-settings-nav{
        border-right:0;
        padding-right:0;
        display:flex;
        gap:8px;
        overflow:auto;
        padding-bottom:8px;
        border-bottom:1px solid var(--border);
    }
}

.grade-settings-nav-item{
    width:100%;
    border:0;
    background:transparent;
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px 10px;
    border-radius:12px;
    font-size:13px;
    font-weight:400;
    color:var(--text);
    text-align:left;
}

.grade-settings-nav-item:hover{
    background:var(--surface-2);
}

.grade-settings-nav-item.is-active{
    background:var(--surface-2);
    box-shadow: inset 0 0 0 1px rgba(59,130,246,.18);
}

.grade-settings-content{
    padding-right:4px;
}

.grade-settings-panel{
    display:none;
}

.grade-settings-panel.is-active{
    display:block;
}

.grade-settings-panel-title{
    font-size:14px;
    font-weight:400;
    margin-bottom:10px;
}

.grade-settings-card{
    border:1px solid var(--border);
    background:var(--surface);
    border-radius:16px;
    padding:14px;
    margin-bottom:12px;
}

.grade-settings-card-title{
    font-size:12px;
    font-weight:400;
    color:var(--muted);
    text-transform:uppercase;
    letter-spacing:.06em;
    margin-bottom:10px;
}

.grade-settings-row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:10px 0;
    border-top:1px solid var(--border);
}

.grade-settings-row:first-of-type{
    border-top:0;
    padding-top:0;
}

.grade-settings-row:last-of-type{
    padding-bottom:0;
}

.grade-settings-row-label{
    font-size:13px;
    font-weight:400;
    color:var(--text);
}

.grade-settings-select{
    border:1px solid var(--border);
    background:var(--surface);
    border-radius:12px;
    padding:8px 10px;
    font-size:13px;
    font-weight:400;
    color:var(--text);
}

.grade-settings-actions{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
}

.grade-user-row-label{
    font-size:12px;
    color:var(--muted);
    font-weight:700;
    letter-spacing:.02em;
    display:inline-flex;
    align-items:center;
    gap:6px;
}

.grade-user-row-label .bi{
    margin-right:2px;
}

.grade-user-switch{
    border:1px solid var(--border);
    background:var(--surface-2);
    color:var(--text);
    border-radius:999px;
    width:46px;
    min-width:46px;
    height:30px;
    font-size:12px;
    font-weight:700;
    display:inline-flex;
    align-items:center;
    justify-content:flex-start;
    padding:0 5px;
    transition:all .2s ease;
}

.grade-user-switch-knob{
    width:18px;
    height:18px;
    border-radius:50%;
    background:#94a3b8;
    transition:all .2s ease;
}

.grade-user-switch-text{
    min-width:22px;
    text-align:right;
}

.grade-user-switch.is-on{
    background:#dcfce7;
    border-color:#86efac;
    color:#166534;
}

.grade-user-switch.is-on .grade-user-switch-knob{
    background:#16a34a;
    transform:translateX(16px);
}

.grade-user-select{
    border:1px solid var(--border);
    background:var(--surface);
    color:var(--text);
    border-radius:8px;
    font-size:12px;
    padding:4px 8px;
    width:160px;
}

.grade-toggle{
    width:36px;
    height:36px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border:1px solid var(--border);
    background:var(--surface);
    border-radius:10px;
    font-size:18px;
    line-height:1;
    color:var(--text);
    transition:.2s;
}

.grade-toggle:hover{
    background:var(--surface-2);
}

.grade-body.sidebar-collapsed .grade-sidebar{
    transform: translateX(-100%);
}

.grade-body.sidebar-collapsed .grade-main{
    margin-left: 0;
}



/* user badge */

.grade-user {
    font-size: 13px;
    color: var(--muted);
}



/* ======================================================
   CONTENT
====================================================== */

.grade-content {
    padding: 24px;
    min-height: 0;
    overflow: auto;
}

.grade-config-rail{
    position: fixed;
    top: var(--config-rail-top, calc(var(--topbar-h) + 74px));
    left: 10px;
    width: 62px;
    max-height: calc(100vh - var(--config-rail-top, calc(var(--topbar-h) + 74px)) - 10px);
    border: 1px solid var(--border);
    border-radius: 14px;
    background: var(--surface);
    box-shadow: var(--shadow-md);
    padding: 4px 6px 8px;
    z-index: 55;
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow: hidden;
    transition: width .2s ease, box-shadow .2s ease, border-color .2s ease;
}

[data-theme="dark"] .grade-config-rail{
    background: linear-gradient(180deg, rgba(15,23,42,.98), rgba(10,15,31,.98));
    border-color: rgba(148,163,184,.24);
    box-shadow: 0 18px 32px rgba(0,0,0,.5);
}

.grade-config-rail-title{
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 34px;
    padding: 6px 0;
    border-radius: 10px;
    color: var(--muted);
    font-size: 12px;
    font-weight: 700;
    letter-spacing: .02em;
    white-space: nowrap;
}

.grade-config-rail-title span{
    display: none;
}

.grade-config-rail-actions{
    display: flex;
    flex-direction: column;
    gap: 4px;
    height: 100%;
}

.grade-config-rail-separator{
    height: 1px;
    margin: 4px 6px;
    background: var(--border);
    opacity: .75;
}

[data-theme="dark"] .grade-config-rail-separator{
    background: rgba(148,163,184,.28);
}

.grade-config-rail-btn{
    width: 100%;
    border: 1px solid transparent;
    background: transparent;
    color: var(--muted);
    border-radius: 10px;
    min-height: 48px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    justify-content: center;
    padding: 0 1px;
    font-size: 12px;
    font-weight: 700;
    transition: all .18s ease;
    transform: translateZ(0);
}

.grade-config-rail-btn i{
    width: 24px;
    font-size: 24px;
    line-height: 1;
    text-align: center;
    color: inherit;
}

.grade-config-rail-btn span{
    display: none;
}

.grade-config-rail-brand{
    margin-top: auto;
    width: 100%;
    min-height: 36px;
    border: 1px solid transparent;
    border-radius: 10px;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    color: var(--muted);
    text-decoration: none;
    font-size: 12px;
    font-weight: 800;
    letter-spacing: .04em;
    transition: all .18s ease;
}

.grade-config-rail-brand:hover{
    background: var(--surface-2);
    border-color: var(--border);
    color: var(--text);
    text-decoration: none;
}

.grade-config-rail-brand:focus,
.grade-config-rail-brand:active,
.grade-config-rail-brand:visited{
    text-decoration: none;
}

.grade-config-rail-brand i{
    font-size: 12px;
    line-height: 1;
    color:#8a5b2d;
}

.grade-config-rail-brand span{
    display: block;
    line-height: 1;
    color: #6a4d2c;
    font-weight: 700;
}

[data-theme="dark"] .grade-config-rail-brand span{
    color: #cbd5e1;
}

.grade-brand-modal{
    background:
        radial-gradient(110% 90% at 0% 0%, rgba(138,91,45,.12), transparent 55%),
        radial-gradient(100% 80% at 100% 100%, rgba(171,129,82,.14), transparent 60%),
        var(--surface);
    border: 1px solid var(--border);
}

.grade-brand-modal .modal-body{
    padding: 22px 18px 20px;
}

.grade-brand-modal-logo{
    width: 72px;
    height: 72px;
    margin: 0 auto 10px;
    border-radius: 18px;
    display: grid;
    place-items: center;
    background: linear-gradient(145deg, #8a5b2d, #6b4528 58%, #b07a42);
    color: #fff;
    box-shadow: 0 14px 30px rgba(107,69,40,.28);
}

.grade-brand-modal-logo .bi{
    font-size: 30px;
    line-height: 1;
}

.grade-brand-modal-name{
    font-family: "Plus Jakarta Sans", "DM Sans", sans-serif;
    font-size: 24px;
    font-weight: 800;
    color:#5a3f24;
    letter-spacing: .02em;
}

.grade-brand-modal-kicker{
    margin-top: 4px;
    font-size: 12px;
    color:#7a6349;
}

.grade-brand-modal-divider{
    width: 56px;
    height: 2px;
    border-radius: 999px;
    margin: 12px auto 10px;
    background: linear-gradient(90deg, rgba(138,91,45,.85), rgba(176,122,66,.85));
}

.grade-brand-modal-rights{
    font-size: 11px;
    color:#7a6349;
    font-weight: 600;
}

.logout-confirm-modal{
    max-width:392px;
    margin:0 auto;
    background:#232427;
    border:1px solid rgba(255,255,255,.1);
    border-radius:16px;
    color:#f3f4f6;
    box-shadow:0 20px 50px rgba(0,0,0,.42);
}

.logout-confirm-modal .modal-body{
    padding:20px 20px 16px;
    text-align:center;
}

.logout-confirm-title{
    margin:0 0 8px;
    font-size:26px;
    line-height:1.18;
    font-weight:700;
    letter-spacing:-.01em;
    color:#f8fafc;
    text-align:center;
}

.logout-confirm-subtitle{
    margin:0 auto;
    max-width:300px;
    font-size:14px;
    line-height:1.45;
    color:#d1d5db;
    text-align:center;
}

.logout-confirm-subtitle br{
    display:block;
}

.logout-confirm-actions{
    margin-top:14px;
    display:grid;
    gap:9px;
}

.logout-confirm-actions .btn{
    width:100%;
    border-radius:999px;
    height:42px;
    font-size:14px;
    font-weight:600;
}

.logout-confirm-actions .btn-light{
    color:#111827;
    background:#f8fafc;
    border-color:#f8fafc;
}

.logout-confirm-actions .btn-light:hover{
    background:#e5e7eb;
    border-color:#e5e7eb;
}

.logout-confirm-actions .btn-outline-light{
    color:#f3f4f6;
    border-color:rgba(255,255,255,.18);
    background:rgba(255,255,255,.04);
}

.logout-confirm-actions .btn-outline-light:hover{
    color:#fff;
    border-color:rgba(255,255,255,.3);
    background:rgba(255,255,255,.1);
}

/* Light theme hardening for logout modal */
body:not([data-theme="dark"]) .logout-confirm-modal{
    background:#232427;
    border-color:rgba(17,24,39,.22);
    box-shadow:0 22px 56px rgba(15,23,42,.38);
}

body:not([data-theme="dark"]) .logout-confirm-title{
    color:#f8fafc;
}

body:not([data-theme="dark"]) .logout-confirm-subtitle{
    color:#d1d5db;
}

.grade-config-rail-badge{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 18px;
    height: 18px;
    margin-left: 6px;
    padding: 0 5px;
    border-radius: 999px;
    font-size: 10px;
    font-weight: 800;
    line-height: 1;
    background: #dc2626;
    color: #fff;
}

.grade-config-rail-btn.has-pending{
    border-color: rgba(220,38,38,.45);
    background: rgba(220,38,38,.1);
    color: #fecaca;
}

.grade-config-rail-btn:hover{
    background: var(--surface-2);
    border-color: var(--border);
    color: var(--text);
}

.grade-config-rail-btn:disabled,
.grade-config-rail-btn.disabled{
    opacity: .45;
    cursor: not-allowed;
    pointer-events: none;
    background: transparent;
    border-color: transparent;
    color: var(--muted);
}

.grade-config-rail-btn.is-active{
    background: rgba(59,130,246,.14);
    border-color: rgba(59,130,246,.28);
    color: #60a5fa;
}

.grade-config-rail-btn.is-pressing{
    animation: gradeRailPress .22s cubic-bezier(.2,.75,.25,1) both;
}

.grade-config-rail-btn.is-releasing{
    animation: gradeRailRelease .24s ease-out both;
}

@keyframes gradeRailPress{
    0%{
        transform: scale(.96);
        filter: brightness(1);
    }
    55%{
        transform: scale(1.04);
        filter: brightness(1.08);
    }
    100%{
        transform: scale(1);
        filter: brightness(1);
    }
}

@keyframes gradeRailRelease{
    0%{
        transform: scale(1);
        opacity: 1;
    }
    100%{
        transform: scale(.985);
        opacity: .9;
    }
}

[data-theme="dark"] .grade-config-rail-btn:hover{
    background: rgba(148,163,184,.10);
    border-color: rgba(148,163,184,.25);
}

body.config-rail-open .grade-config-rail{
    width: 196px;
}

body.config-rail-open .grade-config-rail-title span,
body.config-rail-open .grade-config-rail-btn span{
    opacity: 1;
    transform: translateX(0);
}

body:not(.config-rail-enabled) .grade-config-rail{
    display: none;
}

body[data-config-rail-available="1"] .grade-content{
    transition: padding-left .2s ease;
    padding-top: 4px;
}

body[data-config-rail-available="1"].config-rail-enabled .grade-content{
    padding-left: 72px;
}

/* ======================================================
   SUPER ADMIN TENANT SELECT
====================================================== */

.grade-tenant-select{
    display:flex;
    align-items:center;
    gap:8px;
}

.grade-tenant-select .form-select{
    min-width:220px;
    border-radius:10px;
    font-size:12px;
    border-color: var(--border);
    background: var(--surface);
    color: var(--text);
}

.grade-tenant-select .btn{
    border-radius:10px;
    font-size:12px;
}



/* ======================================================
   CARDS (GLOBAL HELPERS)
====================================================== */

.grade-card {
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
    padding: 18px;
}



/* ======================================================
   BUTTONS
====================================================== */

.btn-primary {
    background: var(--primary);
    border: none;
    color: white;

    padding: 8px 14px;
    border-radius: 10px;

    font-size: 14px;
    cursor: pointer;

    transition: .15s;
}

.btn-primary:hover {
    background: var(--primary-hover);
}



/* ======================================================
   TABLE BASE
====================================================== */

.grade-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}

.grade-table th,
.grade-table td {
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
    text-align: left;
}

.grade-table thead {
    background: #fafafa;
    font-weight: 600;
}



/* ======================================================
   MOBILE RESPONSIVE
====================================================== */

@media (max-width: 992px) {
    .grade-config-rail{
        display: none;
    }

    body[data-config-rail-available="1"] .grade-content,
    body[data-config-rail-available="1"].config-rail-enabled .grade-content{
        padding-left: 24px;
        padding-top: 24px;
    }

    .grade-topnav{
        position:absolute;
        top: var(--topbar-h);
        left: 12px;
        right: 12px;
        background:#ffffff;
        border:1px solid var(--border);
        border-radius:14px;
        padding:10px;
        display:none;
        flex-direction:column;
        align-items:stretch;
        gap:6px;
        box-shadow:0 10px 30px rgba(15,23,42,.08);
        z-index:30;
    }

    .grade-topnav.is-open{
        display:flex;
    }

    .grade-topnav .grade-toplink{
        color:#0f172a;
        background:#ffffff;
        border-color:#e2e8f0;
        font-weight:600;
        opacity:1;
        justify-content:flex-start;
        box-shadow: inset 0 0 0 1px #e2e8f0;
    }

    .grade-topnav .grade-toplink *{
        color:inherit;
    }

    .grade-topnav .grade-toplink.is-active{
        background:#e0f2fe;
        color:#0369a1;
        border-color:#bae6fd;
    }

    .grade-topnav .grade-topnav-dropdown > .grade-toplink{
        width:100%;
        justify-content:space-between;
    }

    .grade-topnav .grade-topnav-menu{
        position:static;
        box-shadow:none;
        border:1px solid #e2e8f0;
        margin-top:6px;
    }

    .grade-topnav .grade-topnav-item{
        color:var(--text);
    }
}



/* ======================================================
   SMALL ANIMATIONS
====================================================== */

.grade-card,
.grade-topbar {
    transition: all .15s ease;
}
